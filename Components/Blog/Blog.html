<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modern Shoe Blog</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="/Components/Blog/blog.css" />
  <link rel="stylesheet" href="/CSS/Contaier.css" />
  <link rel="stylesheet" href="/CSS/Fonts.css" />
</head>

<body>
  <header class="container">
    <div class="header-top">
      <div class="header-top__flex">
        <div class="header-top__title">
          <a href="#" class="fa-solid fa-phone-volume"></a>
          <p>086 777 90028</p>
        </div>
        <div class="header-top__p">
          <p>Black Friday Sale:</p>
          <p>
            <marquee behavior="left" direction="">Save up to 60% with code ShoesVibe
            </marquee>
          </p>
        </div>
        <div class="header-top__langue">
          <a href="#">VND <i class="fa-solid fa-angle-down"></i></a>
          <a href="#">Vietnamese <i class="fa-solid fa-angle-down"></i></a>
        </div>
      </div>
    </div>
  </header>

  <header id="header">
    <div class="header-menu">
      <div class="header-menu__flex">
        <div class="header-menu__list">
          <ul class="header-menu__list-flex">
            <li><a class="item" href="/index.html">Home</a></li>
            <li><a class="item" href="#">About Us</a></li>
            <li class="drop">
              <a class="drop-btn item" href="#">Shop</a>
              <ul class="dropdown">
                <li><a href="/Components/Arrivals.html">New arrivals</a></li>
                <li><a href="#">Collects</a></li>
                <li class="has-dropdown">
                  <a href="/Components/Product/Product.html">Shop Details</a>
                  <ul class="dropmenu__level-1">
                    <li>
                      <a href="/Components/Product/ProductListing.html?category=NikeAirForce">Nike Air Force</a>
                    </li>
                    <li>
                      <a href="/Components/Product/ProductListing.html?category=Jordan">Jordan 1</a>
                    </li>
                    <li>
                      <a href="/Components/Product/ProductListing.html?category=Blazer">Nike Blazer</a>
                    </li>
                    <li>
                      <a href="/Components/Product/ProductListing.html?category=Dunk">Nike Dunk</a>
                    </li>
                    <li>
                      <a href="/Components/Product/ProductListing.html?category=Cortez">Nike Cortez</a>
                    </li>
                  </ul>
                </li>
                <li><a href="#">For You</a></li>
              </ul>
            </li>
            <li><a class="item" href="/Components/Blog/Blog.html">Blogs</a></li>
            <li><a class="item" href="/Components/Contactus.html">Contact Us</a></li>
          </ul>
        </div>
        <p class="header-menu__logo">ShoesVibe</p>
        <div class="header-menu__infomation">
          <a href="#" class="fa-solid fa-magnifying-glass icon-none"></a>
          <a href="/Components/user/login.html" class="fa-solid fa-user"></a>
          <a href="/Components/CartShopping/AddtoCart.html" class="fa-solid fa-cart-shopping">
            <span class="cart-count"></span>
          </a>
          <a href="#" class="fa-solid fa-bars icon-toggle"></a>
        </div>
      </div>
    </div>
  </header>

  <section class="blog-container" id="blog-container"></section>


  <footer class="footer">
    <div class="footer-sections">
      <div class="footer-column">
        <h3>Menu</h3>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Products</a></li>
          <li><a href="#">Cart</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Collections</h3>
        <ul>
          <li><a href="#">Nike Air Max</a></li>
          <li><a href="#">Nike Air Max 1 SC</a></li>
          <li><a href="#">Nike Metcon</a></li>
          <li><a href="#">Jordan 1 Mid</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>My Account</h3>
        <ul>
          <li><a href="#">My Orders</a></li>
          <li><a href="#">Wishlist</a></li>
          <li><a href="#">Check Out</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
      <div class="footer-images">
        <img src="/assets/blog-3.png" alt="Shoes 1" />
        <img src="/assets/blog-1.png" alt="Shoes 2" />
        <img src="/assets/blog-2.png" alt="Shoes 3" />
      </div>
    </div>

    <div class="footer-bottom">
      <div class="logo">
        <span class="brand">Shoe<span class="accent">V</span>ibe</span>
        <!-- From Uiverse.io by alexruix -->
        <div class="input-group">
          <input type="email" class="input" id="Email" name="Email" placeholder="uiverse@verse.io" autocomplete="off" />
          <input class="button--submit" value="Subscribe" type="submit" />
        </div>
      </div>
      <div class="links">
        <a href="#">Legal</a>
        <a href="#">Country site map</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Modern slavery statement</a>
        <a href="#">Cookie Policy</a>
      </div>
    </div>

    <div class="copyright">
      <p>
        &copy;2024 All Rights Copyright <strong>ShoeVibe</strong>. Design &
        Developed By <strong>NHOM1</strong>.
      </p>
    </div>
  </footer>
  <script src="/JS/Srcoll.js"></script>
  <script src="/Components/CartShopping/AddtoCart.js"></script>
  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

    const supabase = createClient('https://ktnpeskqyygikjitfkno.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0bnBlc2txeXlnaWtqaXRma25vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4OTk4MjEsImV4cCI6MjA2MzQ3NTgyMX0.h-i2kZF3dygFXAAuLUjzHYFJgI0Np5lUogZvxPD6RaI');

    async function fetchBlogs() {
      const { data: blogs, error } = await supabase
        .from('blogs')
        .select(`
          title,
          content,
          featured_image,
          views,
          published_at,
          slug,
          author:author_id ( name, profile_image )
        `)
        .order('published_at', { ascending: false });

      if (error) {
        console.error('Error fetching blogs:', error);
        return;
      }

      const container = document.getElementById('blog-container');
      container.innerHTML = blogs.map(blog => `
        <div class="card">
          <div class="card-image">
            <img src="${blog.featured_image}" alt="${blog.title}" />
          </div>
          <div class="card-content">
            ${blog.author ? `
              <div class="author-info">
                <img src="${blog.author.profile_image || ''}" alt="${blog.author.name}" />
                <span>${blog.author.name}</span>
              </div>` : ''
        }
            <p class="meta">${new Date(blog.published_at).toLocaleDateString('en-GB', {
          day: '2-digit', month: 'short', year: 'numeric'
        })} • <span>${Math.round(blog.views / 1000)}K Viewers</span></p>
            <h3>${blog.title}</h3>
            <p>${blog.content}</p>
            <a href="/Components/Blog/Blogdetails.html?slug=${blog.slug}" class="read-more">READ MORE →</a>
          </div>
        </div>
      `).join('');
    }

    fetchBlogs();
  </script>

</body>

</html>